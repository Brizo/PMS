<!DOCTYPE html>
<html>

<head>
    <!--Angular Plugins-->
    <link rel="stylesheet" href="/bower_components/angular-chart.js/dist/angular-chart.css">
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/javascripts/ultimateDT/dist/3.2.1/css/ultimate-datatable-3.2.1.min.css">
    <link rel='stylesheet' href='/stylesheets/angular-datepicker.css' />
    <link rel='stylesheet' href='/stylesheets/styles.css' />

    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/bower_components/bootstrap-treeview/src/js/bootstrap-treeview.js"></script>
    <script src="/bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="/javascripts/angular-datepicker.js"></script>
    <script src="/bower_components/moment/min/moment.min.js"></script>
    <script src="/javascripts/ultimateDT/dist/3.2.1/js/ultimate-datatable-3.2.1.min.js"></script>
    <script src="/bower_components/Chart.js/Chart.min.js"></script>
    <script src="/bower_components/angular-chart.js/dist/angular-chart.js"></script>
<!-- Plugins by Mlandvo -->
    <script src="/javascripts/highcharts.js"></script>
    <script src="/javascripts/highcharts-more.js"></script>
    <script src="/javascripts/solid-gauge.js"></script>
    <script src="/javascripts/exporting.js"></script>
    
    <script src="/javascripts/script.js"></script>
    <script type="text/javascript" src="/javascripts/tableExport.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.base64.js"></script>
    <script type="text/javascript" src="/javascripts/jspdf/libs/sprintf.js"></script>
    <script type="text/javascript" src="/javascripts/jspdf/jspdf.js"></script>
    <script type="text/javascript" src="/javascripts/jspdf/libs/base64.js"></script>

    <script src="/javascripts/controller.js"></script>
    <!--End Angular Plugins-->
</head>

<body ng-app="BSCIMS"> 
        <div class="container" style="width:90%;" ng-controller="manageEmployees">

            <div class="well well-sm" style="margin-top:7px; background-color: #AFEEEE; height: 110px ">
                <a class="navbar-brand" href="/">
                    <img class="img img-responsive"  src="images/sebentile.png" width="80" height="80"  alt="Logo">
                </a>
                <div class="navbar">                   
                    <h2 class="text-left" style="color: #4169E1"><strong><p>Sebentile&#8482;</p></strong></h2>    
                    <span class="label label-primary">A Balanced Scorecard Perfomance Management System</span>&nbsp;&nbsp; 
                    <span class="badge">v 0.0.1</span>                                         
                </div>
            </div> <!--end panel -->
            <div class="panel with-nav-tabs panel-default" id="main-panel">
                <div class="panel-heading" id="main-header">
                    <ul class="nav nav-tabs">   
                        <li class="active"> 
                            <a href="#homeTab" data-toggle="tab"> 
                                <span class = "glyphicon glyphicon-home"></span> 
                                Home
                            </a>
                         </li>
                        <li>
                            <a href="#dashboardTab" data-toggle="tab"> 
                                <span class = "glyphicon glyphicon-resize-full"></span> 
                                Dashboard
                            </a>
                        </li>
                        <li>
                            <a href="#reportsTab" data-toggle="tab"> 
                                <span class = "glyphicon glyphicon-briefcase"></span> 
                                Reports
                            </a>
                        </li>
                        <ul class="nav navbar-nav pull-right" id="myAccount">       
                            <li class="dropdown">       
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <span class="glyphicon glyphicon-user" ng-model="loggedUserName"></span>&nbsp;{{loggedUserName}}<strong class="caret"></strong>
                                </a>        
                                <ul class="dropdown-menu">  
                                    <li class="dropdown-header">User Options</li>
                                    <li><a href="#changePasswd" data-toggle="modal"><span class="glyphicon glyphicon-lock"></span>Change Password</a></li>
                                    <li class="divider"></li>   
                                    <li class="dropdown-header">More</li>   
                                    <li><a href="3" ng-click="logout()"><span class="glyphicon glyphicon-off"></span> Logout</a></li>       
                                </ul>
                                <div class="modal fade" id="changePasswd" tabindex="-1" role="dialog" aria-labelledby="panelLabel" aria-hidden="true" >
                                    <div  class="modal-dialog" style="width:30%;">
                                        <div  class="modal-content"> 
                                            <div  class="modal-header">
                                                <img class="img-responsive" style="float:left;"  src="images/sebentile.png" width="40" height="40"  alt="Logo">&nbsp;
                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                                                <h4 class="modal-title">Change Your Password</h4>
                                            </div>
                                            <div class="modal-body container-fluid">
                                                <div class="alert alert-warning">Choose a password with a minumum of 6 characters ...</div>
                                                <div class="panel">
                                                    <form>
                                                        <div class="form-group">
                                                            <label>Current Password</label>
                                                            <input type="password" class="form-control col-sm-6" id="curPassword" ng-model="curPassword" placeholder="Enter Current Password">
                                                        </div>
                                                        <div class="form-group">
                                                            <label>New Password</label>
                                                            <input type="password" class="form-control col-sm-6" id="newPassword" ng-model="newPassword" placeholder="Enter New Password">
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Confirm Password</label>
                                                            <input type="password" class="form-control col-sm-6" id="newPassword" ng-model="newPassword" placeholder="Enter New Password Again">
                                                        </div>
                                                    </form>
                                                    <br>
                                                </div>
                                            </div>
                                            <div id="" class="modal-footer">
                                                <button class="btn btn-small btn-success" data-dismiss="modal"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp;Confirm </button>
                                                <button class="btn btn-small btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul> <!--end ul myAccount-->
                    </ul>
                </div> <!--end panel-heading-->
                <div class="panel-body">
                    <div class="tab-content">
                        <div class="tab-pane fade in active" id="homeTab">
                            <div class="panel with-nav-tabs panel-default">
                                <div class="panel-heading">
                                    <ul class="nav nav-tabs">   
                                        <li ng-if="isEmp"> 
                                            <a href="#employeeTab" data-toggle="tab" > 
                                                <span class = "glyphicon glyphicon-user"></span>&nbsp; 
                                                Employee
                                            </a>
                                        </li>
                                        <li ng-if="isSup">
                                            <a href="#supervisorTab" data-toggle="tab" > 
                                                <span class = "glyphicon glyphicon-eye-open"></span>&nbsp; 
                                                Supervisor
                                            </a>
                                        </li>
                                        <li ng-if="isAdmin"> 
                                            <a href="#adminTab" data-toggle="tab" ng-click="getDivisions()" > 
                                                <span class = "glyphicon glyphicon-wrench"></span>&nbsp; 
                                                Administrator
                                            </a>
                                        </li>
                                        <li ng-controller="hrRolesController" ng-if="isHR">
                                            <a href="#HRTab" data-toggle="tab" ng-click="getDivisions()"> 
                                                <span class = "glyphicon glyphicon-folder-open"></span> &nbsp;
                                                Human Resources
                                            </a>
                                        </li>                     
                                    </ul>
                                </div> <!--end panel-heading-->
                                <div class="panel-body">
                                    <div class="tab-content">
                                        <!-- Supervisor Tab content -->
                                        <% include supervisorTab %>     
                                        <!-- HR Tab content -->
                                        <% include hrTab %>
                                        <!-- Admin Tab content -->
                                        <% include adminTab %> 
                                        <!-- Employee Tab content-->
                                        <% include employeeTab %>

                                    </div> <!-- end tab content  -->
                                </div> <!--end panel-body-->
                            </div> <!--panel with-nav-tabs panel-default-->
                        </div><!--end home tab content-->
                        <div class="tab-pane fade in" id="dashboardTab">
                            <div class="tab-content" >
                                <div class="container">
                                    <!--
                                    <div class="alert alert-danger">
                                        <button type="button" class="close" data-dismiss="alert">X</button>
                                        <p>No Data Found!</p>
                                    </div>-->
                                    <div class="col-sm-6">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                            <div class="panel-title">Perfomance by Department</div>
                                            </div>
                                            <div class="pane-body">
                                            
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                            <div class="panel-title">Perfomance by Year</div>
                                            </div>
                                            <div class="pane-body">
                                            
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>                      
                        <div class="tab-pane fade in" id="reportsTab" ng-controller="empRoleController">
                            <div class="modal fade" id="sysAcessReport" tabindex="-1" role="dialog" aria-labelledby="panelLabel" aria-hidden="true" >
                                <div class="modal-dialog">
                                    <div  class="modal-content"> 
                                        <div  class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                                            <h4 class="modal-title">System Access Report</h4>
                                        </div>
                                        <div class="modal-body container-fluid">
                                            <div class="alert alert-info">Select relevent parameters for system access report</div>
                                        </div>
                                        <div id="" class="modal-footer">
                                            <button class="btn btn-info"><span class="glyphicon glyphicon-print"></span>&nbsp;Print</button> &nbsp;
                                            <button class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>                      
                            <div class="modal fade" id="sysUsageReport" tabindex="-1" role="dialog" aria-labelledby="panelLabel" aria-hidden="true" >
                                <div  class="modal-dialog">
                                    <div  class="modal-content"> 
                                        <div  class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                                            <h4 class="modal-title">System Usage Report</h4>
                                        </div>
                                        <div class="modal-body container-fluid">
                                            <div class="alert alert-info">Select relevent parameters for system usage report</div>
                                        </div>
                                        <div id="" class="modal-footer">
                                            <button class="btn btn-info"><span class="glyphicon glyphicon-print"></span>&nbsp;Print</button> &nbsp;
                                            <button class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="modal fade" id="perfByEmpReport" tabindex="-1" role="dialog" aria-labelledby="panelLabel" aria-hidden="true" >
                                <div  class="modal-dialog" style="width:80%;">
                                    <div  class="modal-content"> 
                                        <div  class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                                            <h4 class="modal-title">Perfomance By Employee Report</h4>
                                        </div>
                                        <div class="modal-body container-fluid">
                                            <div class="alert alert-info">Select relevent parameters for Perfomance by Employee report</div>
                                            <div class="panel">
                                                <form class="form-horizontal" role="form">
                                                    <div class="form-group">
                                                      <label for="batchTotStn" class="col-sm-4 control-label">Employee ID:</label>
                                                      <div class="col-sm-6">
                                                        <input type="text" class="form-control" ng-model="empID" ng-change="getSysAccessLog()">
                                                      </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-sm-4 control-label">Date:</label>
                                                        <div class="col-sm-3">
                                                            <label for="dateFrom">From:</label>
                                                            <datepicker date-format="yyyy-MM-dd">
                                                               <input ng-model="dateFrom" class="form-control" readonly type="text"/>
                                                            </datepicker>
                                                        </div>
                                                        <div class="col-sm-3">
                                                            <label for="dateTo">To:</label>
                                                            <datepicker date-format="yyyy-MM-dd">
                                                               <input ng-model="dateTo" class="form-control" readonly type="text"/>
                                                            </datepicker>
                                                        </div>
                                                    </div>
                                                </form>
                                                <hr>
                                                <div class="row">
                                                    <div>
                                                        <div class="col-sm-12" ultimate-datatable="compEmpsDT">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-10 col-sm-offset-1">
                                                        <table class="table table-bordered">
                                                            <tr>
                                                                <th>Date(s)</th>
                                                                <th>Employee ID</th>
                                                                <th>Rating</th>
                                                                <th>Score</th>
                                                            </tr>
                                                            <tr ng-repeat="objective in ratedKPA | orderBy: 'pespective' |filter: search |limitTo:10">
                                                                <td>{{objective.creationDate}}</td>
                                                                <td>{{objective.owner}}</td>
                                                                <td>{{objective.rating}}</td>
                                                                <td>{{objective.score}}</td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button class="btn btn-info"><span class="glyphicon glyphicon-print"></span>&nbsp;Print</button> &nbsp;
                                            <button class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                           
                            <div class="modal fade" id="perfByDepReport" tabindex="-1" role="dialog" aria-labelledby="panelLabel" aria-hidden="true" >
                                <div  class="modal-dialog">
                                    <div  class="modal-content"> 
                                        <div  class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                                            <h4 class="modal-title">Perfomance By Department Report</h4>
                                        </div>
                                        <div class="modal-body container-fluid">
                                            <div class="alert alert-info">Select relevent parameters for Peformance by department report</div>
                                        </div>
                                        <div id="" class="modal-footer">
                                            <button class="btn btn-info"><span class="glyphicon glyphicon-print"></span>&nbsp;Print</button> &nbsp;
                                            <button class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade" id="coPerfByYrReport" tabindex="-1" role="dialog" aria-labelledby="panelLabel" aria-hidden="true" >
                                <div  class="modal-dialog">
                                    <div  class="modal-content"> 
                                        <div  class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                                            <h4 class="modal-title">Company Perfomance By Year Report</h4>
                                        </div>
                                        <div class="modal-body container-fluid">
                                            <div class="alert alert-info">Select relevent parameters for company peformance by year report</div>
                                        </div>
                                        <div id="" class="modal-footer">
                                            <button class="btn btn-info"><span class="glyphicon glyphicon-print"></span>&nbsp;Print</button> &nbsp;
                                            <button class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>                          
                            <div class="panel">
                                <div class="btn-block">
                                    <button class="btn btn-large" href="#sysAcessReport" data-toggle="modal">System Access</button>&nbsp;&nbsp;&nbsp;   
                                    <button class="btn btn-large" href="#sysUsageReport" data-toggle="modal">System Usage </button>&nbsp;&nbsp;&nbsp;   
                                </div>
                                <hr>
                                <div class="btn-block">
                                    <button class="btn btn-large" href="#perfByEmpReport" ng-click="getEvalObjectives()" data-toggle="modal">Perfomance By Employee</button>&nbsp; &nbsp; &nbsp; 
                                    <button class="btn btn-large" href="#perfByDepReport" data-toggle="modal">Perfomance By Department</button>&nbsp; &nbsp; &nbsp; 
                                </div>
                                <hr>
                                <div class="btn-block">
                                    <button class="btn btn-large" href="#perfByDivReport" data-toggle="modal">Perfomance By Division</button>&nbsp; &nbsp; &nbsp; 
                                    <button class="btn btn-large" href="#coPerfByYrReport" data-toggle="modal">Company Perfomance By Year</button>&nbsp; &nbsp; &nbsp;
                                </div>
                            </div>
                        </div>              
                    </div><!--end tab content-->
                </div><!--end panel body-->
                <div class="feedback left">
          <!--<div class="tooltips">
              <div class="btn-group dropup">
                <button type="button" class="btn btn-primary dropdown-toggle btn-circle1 btn-lg1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-bug fa-2x" title="Report Bug"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-right dropdown-menu-form">
                  <li>
                    <div class="report">
                      <h2 class="text-center">Report Bug</h2>
                      <form class="doo" method="post" action="report.php">
                        <div class="col-sm-12">
                          <textarea required name="comment" class="form-control" placeholder="Please tell us what bug or issue you've found, provide as much detail as possible."></textarea>
                          <input name="screenshot" type="hidden" class="screen-uri">
                          <span class="screenshot pull-right"><i class="fa fa-camera cam" title="Take Screenshot"></i></span>
                         </div>
                         <div class="col-sm-12 clearfix">
                          <button class="btn btn-primary btn-block">Submit Report</button>
                         </div>
                     </form>
                    </div>
                   
                    <div class="loading text-center hideme">
                      <h2>Please wait...</h2>
                      <h2><i class="fa fa-refresh fa-spin"></i></h2>
                    </div>
                    <div class="reported text-center hideme">
                      <h2>Thank you!</h2>
                      <p>Your submission has been received, we will review it shortly.</p>
                       <div class="col-sm-12 clearfix">
                          <button class="btn btn-success btn-block do-close">Close</button>
                       </div>
                    </div>
                    <div class="failed text-center hideme">
                      <h2>Oh no!</h2>
                      <p>It looks like your submission was not sent.<br><br><a href="mailto:">Try contacting us by the old method.</a></p>
                       <div class="col-sm-12 clearfix">
                          <button class="btn btn-danger btn-block do-close">Close</button>
                       </div>
                    </div>
                  </li>
                </ul>
              </div>
          </div>-->
        </div>
            </div><!-- end panel-->

        </div> <!--end container-->
        
        <footer id="foot" style="position: fixed; bottom:0; left:0; height: 30px; width: 100%" >
            <div class="container">
                <div class="row">
                    <div class="col-sm-6">
                        <h6>Copyright &copy; 2015 MSQ Solutions. All Rights Reserved </h6>
                    </div> <!-- end col-sm-6-->
                </div> <!-- end row -->
            </div> <!-- end container-->
        </footer> <!-- end footer-->

        <!--Adding ref of ngfile upload
        <script type="text/javascript" src="/js/ng-file-upload-all.min.js"></script>
        <script type="text/javascript" src="/bower_components/angular-route/angular-route.min.js"></script>
        <script type="text/javascript" src="/bower_components/annyang/annyang.js"></script>     
        <script type="text/javascript" src="/js/effects.js"></script>
        <script type="text/javascript" src="/js/mkActivePane.js"></script>      
        <script type="text/javascript" src="/js/objData.js"></script>
        <script type="text/javascript" src="/js/selfevalbtn.js"></script>
        <script src="/includes/js/script.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>-->
    </body>

</html>